(this["webpackJsonplearn-react"]=this["webpackJsonplearn-react"]||[]).push([[4],{100:function(e,t,n){e.exports={userWrapper:"Users_userWrapper__2EKFh",leftColumn:"Users_leftColumn__WICQb",photo:"Users_photo__2DXoH",followButton:"Users_followButton__inR84",rightColumn:"Users_rightColumn__1yidn",name:"Users_name__1_bnC"}},101:function(e,t,n){e.exports={pagination:"Pagination_pagination__1p9Gw",current:"Pagination_current__21JSi"}},104:function(e,t,n){"use strict";n.r(t);var o=n(10),s=n(11),r=n(18),i=n(17),a=n(8),u=n(100),l=n.n(u),c=n(52),p=n(12),g=n(22),h=n(0),b=n.n(h),f=n(101),m=n.n(f),j=n(1),d=function(e){for(var t=e.currentPage,n=e.onPageChange,o=e.totalUsersCount,s=e.pageSize,r=e.portionNumber,i=e.setPortionNumber,a=Math.ceil(o/s),u=Object(h.useState)(10),l=Object(g.a)(u,1)[0],c=[],p=1;p<=a;p++)c.push(p);var b=Math.ceil(a/l),f=(r-1)*l+1,d=r*l;return Object(j.jsxs)("div",{className:m.a.pagination,children:[r>1&&Object(j.jsx)("button",{onClick:function(){i(r-1)},children:"prev"}),c.filter((function(e){return e>=f&&e<=d})).map((function(e){return Object(j.jsx)("span",{className:t===e?m.a.current:void 0,onClick:function(t){n(e)},children:e},e)})),b>r&&Object(j.jsx)("button",{onClick:function(){i(r+1)},children:"next"})]})},C=function(e){var t=e.usersList,n=e.followingInProgress,o=e.onFollowButtonClick,s=e.totalUsersCount,r=e.pageSize,i=e.currentPage,a=e.onPageChange,u=e.setPortionNumber,g=e.portionNumber;return Object(j.jsxs)("div",{className:l.a.wrapper,children:[t.map((function(e){return Object(j.jsxs)("div",{className:l.a.userWrapper,children:[Object(j.jsxs)("div",{className:l.a.leftColumn,children:[Object(j.jsx)(p.b,{to:"/profile/"+e.id,className:l.a.photo,children:Object(j.jsx)("img",{src:null!==e.photos.small?e.photos.small:c.a,alt:""})}),Object(j.jsxs)("button",{className:l.a.followButton,disabled:n.some((function(t){return t===e.id})),onClick:function(){o(e.id,e.followed)},children:[e.followed?"un":"","follow"]})]}),Object(j.jsx)("div",{className:l.a.rightColumn,children:Object(j.jsxs)("div",{className:l.a.contentWrapper,children:[Object(j.jsx)("div",{className:l.a.name,children:e.name}),Object(j.jsx)("div",{className:l.a.quote,children:e.status})]})})]},e.id)})),Object(j.jsx)(d,{currentPage:i,onPageChange:a,totalUsersCount:s,pageSize:r,setPortionNumber:u,portionNumber:g})]})},P=n(54),O=n(28),_=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onPageChange=function(t){e.props.getUsers(e.props.pageSize,t)},e.onFollowButtonClick=function(t,n){n?e.props.unfollow(t):e.props.follow(t)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.pageSize,this.props.currentPage)}},{key:"componentWillUnmount",value:function(){this.props.setCurrentPage(1)}},{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:this.props.isFetching?Object(j.jsx)(O.a,{}):Object(j.jsx)(C,{usersList:this.props.usersList,onPageChange:this.onPageChange,currentPage:this.props.currentPage,onFollowButtonClick:this.onFollowButtonClick,followingInProgress:this.props.followingInProgress,pagination:this.props.pagination,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,portionNumber:this.props.portionNumber,setPortionNumber:this.props.setPortionNumber})})}}]),n}(b.a.Component),w=Object(a.b)((function(e){return{usersList:e.users.users,pageSize:e.users.pageSize,totalUsersCount:e.users.totalUsersCount,currentPage:e.users.currentPage,isFetching:e.users.isFetching,followingInProgress:e.users.followingInProgress,pagination:e.users.pagination,portionNumber:e.users.portionNumber}}),{setCurrentPage:P.d,getUsers:P.c,follow:P.b,unfollow:P.f,setPortionNumber:P.e})(_);t.default=w}}]);
//# sourceMappingURL=4.f6dd84f1.chunk.js.map