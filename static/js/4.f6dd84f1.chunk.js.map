{"version":3,"sources":["pages/Users/Users.module.css","components/Pagination/Pagination.module.css","components/Pagination/Pagination.js","pages/Users/Users.js","pages/Users/UsersContainer.js"],"names":["module","exports","Pagination","currentPage","onPageChange","totalUsersCount","pageSize","portionNumber","setPortionNumber","pagesCount","Math","ceil","useState","portionSize","pagination","i","push","portionCount","leftPortionPageNumber","rightPortionPageNumber","className","styles","onClick","filter","p","map","current","undefined","e","Users","usersList","followingInProgress","onFollowButtonClick","wrapper","u","userWrapper","leftColumn","to","id","photo","src","photos","small","userPhoto","alt","followButton","disabled","some","followed","rightColumn","contentWrapper","name","quote","status","UsersComponent","props","getUsers","isFollowed","unfollow","follow","this","setCurrentPage","isFetching","Preloader","React","Component","UsersContainer","connect","state","users"],"mappings":"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","file":"static/js/4.f6dd84f1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userWrapper\":\"Users_userWrapper__2EKFh\",\"leftColumn\":\"Users_leftColumn__WICQb\",\"photo\":\"Users_photo__2DXoH\",\"followButton\":\"Users_followButton__inR84\",\"rightColumn\":\"Users_rightColumn__1yidn\",\"name\":\"Users_name__1_bnC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1p9Gw\",\"current\":\"Pagination_current__21JSi\"};","import { useState } from \"react\";\r\nimport styles from \"./Pagination.module.css\"\r\n\r\nlet Pagination = ({ currentPage, onPageChange, totalUsersCount, pageSize, portionNumber, setPortionNumber }) => {\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    let [portionSize] = useState(10);\r\n\r\n    let pagination = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pagination.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return (\r\n        <div className={styles.pagination}>\r\n            {portionNumber > 1 &&\r\n                <button onClick={ () => { setPortionNumber(portionNumber - 1) }}>prev</button>\r\n            }\r\n            {pagination\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span className={currentPage === p ? styles.current : undefined}\r\n                        onClick={(e) => { onPageChange(p) }} key={p} >{p}</span>\r\n                })}\r\n            { portionCount > portionNumber &&\r\n                <button onClick={ () => { setPortionNumber(portionNumber + 1) }}>next</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination;","import styles from \"./Users.module.css\"\r\nimport userPhoto from './../../assets/images/default_avatar.jpg'\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\n\r\nlet Users = ({ usersList, followingInProgress, onFollowButtonClick, totalUsersCount, pageSize, currentPage, onPageChange, setPortionNumber, portionNumber }) => {\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            {usersList.map((u) => {\r\n                return (\r\n                    <div className={styles.userWrapper} key={u.id}>\r\n                        <div className={styles.leftColumn}>\r\n                            <NavLink to={'/profile/' + u.id} className={styles.photo}>\r\n                                <img src={u.photos.small !== null ? u.photos.small : userPhoto} alt=\"\" />\r\n                            </NavLink>\r\n                            <button className={styles.followButton} disabled={followingInProgress.some(id => id === u.id)} onClick={() => { onFollowButtonClick(u.id, u.followed) }} >\r\n                                {u.followed ? \"un\" : \"\"}follow\r\n                            </button>\r\n                        </div>\r\n                        <div className={styles.rightColumn}>\r\n                            <div className={styles.contentWrapper}>\r\n                                <div className={styles.name}>\r\n                                    {u.name}\r\n                                </div>\r\n                                <div className={styles.quote}>\r\n                                    {u.status}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })}\r\n            <Pagination\r\n                currentPage={currentPage}\r\n                onPageChange={onPageChange}\r\n                totalUsersCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n                setPortionNumber={setPortionNumber}\r\n                portionNumber={portionNumber} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import { connect } from \"react-redux\"\r\nimport Users from \"./Users\"\r\nimport { setCurrentPage, getUsers, follow, unfollow, setPortionNumber } from \"../../redux/usersReducer\"\r\nimport React from \"react\"\r\nimport Preloader from \"../../components/Preloader/Preloader\"\r\n\r\nclass UsersComponent extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.pageSize, this.props.currentPage);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.setCurrentPage(1);\r\n  }\r\n\r\n  onPageChange = (currentPage) => {\r\n    this.props.getUsers(this.props.pageSize, currentPage)\r\n  }\r\n\r\n  onFollowButtonClick = (id, isFollowed) => {\r\n\r\n    if (!isFollowed) {\r\n      this.props.follow(id);\r\n    } else {\r\n      this.props.unfollow(id);\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return <>\r\n      {this.props.isFetching ? <Preloader />\r\n        : <Users\r\n          usersList={this.props.usersList}\r\n          onPageChange={this.onPageChange}\r\n          currentPage={this.props.currentPage}\r\n          onFollowButtonClick={this.onFollowButtonClick}\r\n          followingInProgress={this.props.followingInProgress}\r\n          pagination={this.props.pagination}\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          portionNumber={this.props.portionNumber}\r\n          setPortionNumber={this.props.setPortionNumber}\r\n        />}\r\n    </>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    usersList: state.users.users,\r\n    pageSize: state.users.pageSize,\r\n    totalUsersCount: state.users.totalUsersCount,\r\n    currentPage: state.users.currentPage,\r\n    isFetching: state.users.isFetching,\r\n    followingInProgress: state.users.followingInProgress,\r\n    pagination: state.users.pagination,\r\n    portionNumber: state.users.portionNumber\r\n  }\r\n}\r\n\r\nconst UsersContainer = connect(mapStateToProps, { setCurrentPage, getUsers, follow, unfollow, setPortionNumber })(UsersComponent);\r\n  \r\nexport default UsersContainer;\r\n"],"sourceRoot":""}